<div class="habitacion-detalle">
  <div class="hotel-contenido">
    <div class="info-contenedor">
      <div class="hotel-info" *ngIf="habitacion">
        <div class="hotel-info-layout">
          <div class="hotel-info-texto">
            <h2 class="hotel-title">{{ getNombreSeccion() }}</h2>
            <p class="hotel-ubicacion" *ngIf="hotel">{{ getUbicacionCompuesta() }}</p>
            <div class="hotel-rating" *ngIf="hotel">
              <span class="stars" [style.--rating]="hotel.calificacion">â˜…â˜…â˜…â˜…â˜…</span>
              <span class="score">{{ getCalificacion() }}</span>
            </div>
            <div class="amenities" *ngIf="amenidades.length">
              <span class="chip" *ngFor="let a of amenidades"><span class="chip-icon">{{ a.icon }}</span> {{ a.label }}</span>
            </div>
            <ul class="meta-lines">
              <li><span class="icon">ğŸ›ï¸</span>Capacidad: {{ habitacion.cant_huespedes }} huÃ©spedes</li>
              <li><span class="icon">ğŸ•’</span>Check-in: 12:00</li>
              <li><span class="icon">ğŸ•’</span>Check-out: 12:00</li>
              <li><span class="icon">ğŸ‘¤</span><span [class.disponible]="habitacion.disponible" [class.no-disponible]="!habitacion.disponible">{{ getDisponibilidadLabel() }}</span></li>
            </ul>
          </div>
          <div class="price-wrapper">
            <div class="price-big">{{ getPrecio() }}</div>
            <div class="price-label">por noche</div>
          </div>
        </div>
      </div>
      <div class="hotel-reviews">
        <h3 class="reviews-title">Reviews de huÃ©spedes</h3>
        <div class="review">
          <p class="review-header">MarÃ­a G. â€”
            <span class="stars" style="--rating: 4.5">â˜…â˜…â˜…â˜…â˜…</span>
            <span class="score">4.5/5</span>
          </p>
          <p class="review-text">â€œLa habitaciÃ³n estaba impecable y la vista era espectacular. VolverÃ­a sin dudar.â€</p>
          <p class="review-fecha">15 de septiembre de 2025</p>
        </div>
        <div class="review">
          <p class="review-header">Carlos R. â€”
            <span class="stars" style="--rating: 5">â˜…â˜…â˜…â˜…â˜…</span>
            <span class="score">5/5</span>
          </p>
          <p class="review-text">â€œExcelente atenciÃ³n y ubicaciÃ³n. Muy recomendable para parejas.â€</p>
          <p class="review-fecha">10 de septiembre de 2025</p>
        </div>
        <div class="review">
          <p class="review-header">LucÃ­a M. â€”
            <span class="stars" style="--rating: 4">â˜…â˜…â˜…â˜…â˜…</span>
            <span class="score">4/5</span>
          </p>
          <p class="review-text">â€œTodo bien, aunque el desayuno podrÃ­a mejorar. La cama muy cÃ³moda.â€</p>
          <p class="review-fecha">5 de septiembre de 2025</p>
        </div>
      </div>
      <div class="location-wrapper">
        <div class="location-section">
          <h3 class="location-title">UbicaciÃ³n del tour</h3>
          <div class="location-box">
            <div class="location-icon">ğŸ“</div>
            <div class="location-text">
              <div class="map-label">Mapa del recorrido</div>
              <div class="map-location">{{ hotel?.ubicacion }}</div>
            </div>
          </div>
        </div>
      </div>
    </div>
    <div class="reserva">
      <h2 class="reserva-title">Reserva tu habitaciÃ³n</h2>
      <div class="precio-panel">
        <div class="price-big">{{ getPrecio() }}</div>
        <div class="precio-label">por noche</div>
      </div>
      <p class="reserva-capacidad">MÃ¡ximo {{ getCapacidadHabitacion() }} huÃ©spedes por habitaciÃ³n</p>
      <div class="fechas-inline">
        <div class="date-row">
          <label for="fechaReserva">Check-in:</label>
          <input id="fechaReserva" type="date" [(ngModel)]="fechaReserva" name="fechaReserva" (change)="onChangeFechaReserva()" [min]="minFecha" />
        </div>
        <div class="date-row">
          <label for="fechaCaducidad">Check-out:</label>
          <input id="fechaCaducidad" type="date" [(ngModel)]="fechaCaducidad" name="fechaCaducidad" (change)="onChangeFechaCaducidad()" [min]="minFechaSalida" />
        </div>
      </div>
      <div class="accion-reservar">
        <a class="btn-reservar" (click)="$event.preventDefault(); onIntentarReservar();">Reservar Ahora</a>
        <button *ngIf="showToast" type="button" class="toast-ocupado" (click)="cerrarToast()">
          {{ mensajeDisponibilidad }}. Disponible desde {{ formatear(proxDisponible) }} (cerrar)
        </button>
      </div>
      <div class="modal-ocupado-backdrop" *ngIf="showModal">
        <div class="modal-ocupado">
          <h3>Fechas ocupadas</h3>
          <p>La habitaciÃ³n estÃ¡ ocupada en el rango elegido.<br>PrÃ³xima fecha disponible desde <b>{{ formatear(proxDisponible) }}</b>.</p>
          <div class="acciones-modal">
            <button class="btn-sec" (click)="cerrarModal()">Cerrar</button>
            <button class="btn-principal" (click)="usarProximaFecha()">Usar prÃ³xima fecha</button>
          </div>
        </div>
      </div>
      <p class="reserva-info">âœ“ CancelaciÃ³n gratuita hasta 24 horas antes</p>
      <p class="reserva-info">âœ“ No se requiere pago por adelantado</p>
    </div>
  </div>
</div>
