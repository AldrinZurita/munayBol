<div class="habitacion-detalle p-6 max-w-[1000px] mx-auto">
	<div class="hotel-contenido flex flex-wrap gap-6">

		<!-- Contenedor de informacion -->
		<div class="info-contenedor w-full md:w-[60%] flex flex-col gap-6">

			<!-- Card principal estilo ficha -->
			<div class="hotel-info shadow-strong border rounded-lg p-6 bg-white" *ngIf="habitacion">
				<div class="flex justify-between items-start gap-4">
					<div class="flex-1">
						<ng-container *ngIf="!loadingHotel; else titleSkeleton">
							<h2 class="hotel-title font-bold leading-tight text-[1.65rem] mb-1">{{ getNombreSeccion() }}</h2>
						</ng-container>
						<ng-template #titleSkeleton>
							<div class="title-skeleton mb-3"></div>
						</ng-template>
						<p class="text-gray-600 text-sm mb-2" *ngIf="hotel">{{ getUbicacionCompuesta() }}</p>
						<div class="flex items-center gap-2 mb-3" *ngIf="hotel">
							<span class="stars" [style.--rating]="hotel.calificacion">★★★★★</span>
							<span class="score text-sm">{{ getCalificacion() }}</span>
						</div>
						<!-- Características con íconos -->
						<div class="amenities flex flex-wrap gap-2 mb-4" *ngIf="amenidades.length">
							<span class="chip" *ngFor="let a of amenidades"><span class="chip-icon">{{ a.icon }}</span> {{ a.label }}</span>
						</div>
						<ul class="meta-lines">
							<li>
								<span class="icon">🛏️</span>
								Capacidad: {{ habitacion.cant_huespedes }} huéspedes
							</li>
							<li>
								<span class="icon">🕒</span>
								Check-in: 12:00
							</li>
							<li>
								<span class="icon">🕒</span>
								Check-out: 12:00
							</li>
							<li>
								<span class="icon">👤</span>
								<span [class.text-green-700]="habitacion.disponible" [class.text-red-600]="!habitacion.disponible">{{ getDisponibilidadLabel() }}</span>
							</li>
						</ul>
					</div>
					<div class="text-right shrink-0 price-side price-wrapper">
						<div class="text-orange font-bold price-big leading-none mb-1">{{ getPrecioFormateado() }}</div>
						<div class="text-gray-600 text-xs">por noche</div>
					</div>
				</div>
			</div>

			<!-- Reviews -->
			<div class="hotel-reviews shadow-strong border rounded-lg p-6 bg-white" *ngIf="reviews.length > 0">
				<h3 class="text-lg font-semibold mb-4">Reviews de huéspedes</h3>
				<div class="review bg-gray-50 border border-gray-200 rounded-lg p-4 mb-4" *ngFor="let review of reviews">
					<p class="text-sm font-medium">{{ review.autor }} —
						<span class="stars" [style.--rating]="review.calificacion">★★★★★</span>
						<span class="score">{{ review.calificacion }}/5</span>
					</p>
					<p class="text-sm text-gray-700 italic mt-1">“{{ review.texto }}”</p>
					<p class="text-xs text-gray-500 mt-1">{{ review.fecha }}</p>
				</div>
			</div>

		</div>

		<!-- Panel de reserva -->
		<div class="reserva shadow-strong w-full md:w-[40%] border rounded-lg p-6 bg-white">
			<h2 class="font-bold mb-4 text-center text-[1.25rem]">Reserva tu habitación</h2>

			<div class="precio-panel text-center p-4 bg-blue-100 rounded-lg mb-4">
				<div class="precio text-orange font-bold text-[3rem] leading-none mb-1">{{ getPrecioFormateado() }}</div>
				<div class="text-gray-600 text-sm">por noche</div>
</div>

			<p class="mb-2 text-[0.95rem]">Máximo {{ getCapacidadHabitacion() }} huéspedes por habitación</p>

			<!-- Selección de fechas integradas -->
			<div class="fechas-inline mb-4 flex flex-col gap-3">
				<div class="date-row flex items-center gap-3 text-sm">
					<label for="fechaReserva" class="w-24 font-semibold">Check-in:</label>
					<input id="fechaReserva" type="date" class="flex-1 border rounded px-3 py-2"
						[min]="minFecha" [(ngModel)]="fechaReserva" name="fechaReserva" (change)="onChangeFechaReserva()" />
				</div>
				<div class="date-row flex items-center gap-3 text-sm">
					<label for="fechaCaducidad" class="w-24 font-semibold">Check-out:</label>
					<input id="fechaCaducidad" type="date" class="flex-1 border rounded px-3 py-2"
						[min]="minFechaSalida" [(ngModel)]="fechaCaducidad" name="fechaCaducidad" (change)="onChangeFechaCaducidad()" />
				</div>
			</div>


			<!-- Mensaje de ocupación inmediato removido; se muestra solo tras intentar reservar -->

			<div class="accion-reservar mb-4">
				<a 
					class="btn-reservar btn-reservar-inline"
					(click)="$event.preventDefault(); onIntentarReservar();"
				>Reservar Ahora</a>
				<!-- Toast -->
				<button *ngIf="showToast" type="button" class="toast-ocupado" (click)="cerrarToast()">
					{{ mensajeDisponibilidad }}. Disponible desde {{ formatear(proxDisponible) }} (cerrar)
				</button>
			</div>

			<!-- Modal -->
			<div class="modal-ocupado-backdrop" *ngIf="showModal">
				<div class="modal-ocupado">
					<h3>Fechas ocupadas</h3>
					<p>La habitación está ocupada en el rango elegido.<br>
					Próxima fecha disponible desde <b>{{ formatear(proxDisponible) }}</b>.</p>
					<div class="acciones-modal">
						<button class="btn-sec" (click)="cerrarModal()">Cerrar</button>
						<button class="btn-principal" (click)="usarProximaFecha()">Usar próxima fecha</button>
					</div>
				</div>
			</div>

			<p class="text-gray-500 mt-2 text-[0.85rem]">✓ Cancelación gratuita hasta 24 horas antes</p>
			<p class="text-gray-500 mt-2 text-[0.85rem]">✓ No se requiere pago por adelantado</p>
		</div>

	</div>
</div>
<!-- ...existing code... -->
