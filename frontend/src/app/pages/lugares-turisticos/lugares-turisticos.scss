/* =========================================
   LUGARES TURÍSTICOS — CLON VISUAL DE HOTELES
   (modal con botones de colores + espaciados)
   ========================================= */
:host{
  display:block;
  --radius:12px;
  --shadow:0 4px 14px var(--color-shadow);
  --shadow-lg:0 10px 28px rgba(0,0,0,.18);
  --shadow-modal:0 62px 110px rgba(0,0,0,.5);
  --transition:all .25s ease;
  --ring-transparent:var(--color-brand-transparent);
}

/* ===== Contenedor (mismo ancho y centrado que Hoteles) ===== */
.lugares-page.container{
  max-width:1280px;
  margin:0 auto;
  padding:24px;
  display:block;
}

/* Fondo sutil (igual que Hoteles) */
.lugares-page{
  position:relative;
  z-index:0;
  background:var(--color-bg-page);
}
.lugares-page::before{
  content:"";
  position:absolute; inset:0; pointer-events:none; z-index:-1; opacity:.45;
  background:
    repeating-linear-gradient(135deg, rgba(2,6,23,.035) 0 1px, transparent 1px 16px),
    repeating-linear-gradient(45deg,  rgba(2,6,23,.025) 0 1px, transparent 1px 20px);
}

/* ===== Lista y cards ===== */
.lista{
  display:grid;
  grid-template-columns:repeat(3, minmax(280px,1fr));
  gap:16px;
}
@media (max-width:1100px){ .lista{ grid-template-columns:repeat(2, minmax(280px,1fr)); } }
@media (max-width:700px){  .lista{ grid-template-columns:1fr; } }

.card-lugar{
  display:grid; grid-template-columns:1fr; gap:12px;
  background:var(--color-bg-card);
  border:1px solid var(--color-border);
  border-radius:14px;
  padding:16px;
  position:relative;
  transition:var(--transition);
  box-shadow:var(--shadow);
  overflow:visible;
}
.card-lugar::after{
  content:"";
  position:absolute; inset:-2px; border-radius:18px; padding:2px;
  background:conic-gradient(from 180deg at 50% 50%,
    var(--color-primary), var(--color-accent), #fbbf24, #ef4444, var(--color-primary));
  -webkit-mask:linear-gradient(#000 0 0) content-box, linear-gradient(#000 0 0);
  -webkit-mask-composite:xor; mask-composite:exclude;
  opacity:0; transition:opacity .25s ease; pointer-events:none; filter:blur(.6px);
}
.card-lugar:hover{ transform:translateY(-3px); box-shadow:var(--shadow-lg); }
.card-lugar:hover::after{ opacity:1; }

.imagen-lugar{
  position:relative; display:inline-block; width:100%; height:210px;
  border-radius:12px; overflow:hidden;
  border:1px solid var(--color-border);
  box-shadow:0 10px 24px rgba(0,0,0,.15);
  background-size:cover; background-position:center;
}
.imagen-lugar::after{
  content:""; position:absolute; inset:-20%;
  background:linear-gradient(90deg, rgba(255,255,255,0) 0%, rgba(255,255,255,.28) 50%, rgba(255,255,255,0) 100%);
  transform:translateX(-120%) skewX(12deg);
  animation:imgShine 10s linear infinite; mix-blend-mode:screen; pointer-events:none;
}
.imagen-lugar:hover::after{ animation-duration:3.2s; }
@keyframes imgShine{ 0%{transform:translateX(-120%) skewX(12deg)} 100%{transform:translateX(120%) skewX(12deg)} }

.lugar-nombre{ margin:0 0 8px; font-size:20px; color:var(--color-text-primary); font-weight:800; }
.meta{ list-style:none; padding:0; margin:10px 0; display:flex; gap:16px; color:var(--color-text-secondary); }
.meta-item{ display:inline-flex; align-items:center; gap:4px; font-size:14px; }
.descripcion{ margin:0 0 10px; color:var(--color-text-secondary); line-height:1.45; }

/* Botones bajo la card — centrados y con buen gap */
.card-actions-centered{
  width:100%; display:flex; align-items:center; justify-content:center;
  gap:10px; flex-wrap:wrap; margin-top:2px;
}
.card-actions-centered .btn,
.card-actions-centered .icon-btn{ margin:0; }

/* ===== Botones admin (ojo, lápiz, basura) ===== */
.btn-ghost,.icon-btn{
  display:inline-flex; justify-content:center; align-items:center;
  width:48px; height:48px; border-radius:14px;
  border:1px solid var(--color-border);
  background:var(--color-bg-hover);
  transition:var(--transition); line-height:0;
}
.btn-ghost i-bs[name="eye"]{ color:var(--color-accent); }
.icon-btn.btn-edit i-bs[name="pencil"]{ color:#2e7cff; }
.icon-btn.btn-delete i-bs[name="trash"]{ color:#e74c3c; }
.btn-ghost:hover,.icon-btn:hover{ transform:translateY(-2px); filter:saturate(1.05); border-color:transparent; }
.btn-ghost:hover{ background:linear-gradient(135deg, var(--color-accent), var(--color-primary)); box-shadow:0 10px 22px rgba(22,163,74,.22); }
.icon-btn.btn-edit:hover{ background:linear-gradient(135deg,#2e7cff,#0f6bff); box-shadow:0 10px 22px rgba(15,107,255,.22); }
.icon-btn.btn-delete:hover{ background:linear-gradient(135deg,#ff6a6a,#e74c3c); box-shadow:0 10px 22px rgba(231,76,60,.22); }
.btn-ghost:hover i-bs, .icon-btn:hover i-bs{ color:#fff; }

/* ===== Modal ===== */
.modal-backdrop{
  position:fixed; inset:0; background:rgba(0,0,0,.55); backdrop-filter:blur(3px); z-index:90;
}
.modal-root{
  position:fixed; inset:0; display:flex; align-items:center; justify-content:center;
  z-index:100; 
  padding:24px;                     /* MOD: un poco más de aire general */
  padding-top:64px;                 /* MOD: despega el header del navbar fijo */
  overflow:auto;
}
.modal-card{
  position:relative; background:var(--color-bg-card);
  border-radius:14px; box-shadow:var(--shadow-modal); border:1px solid var(--color-border);
  width:100%; max-width:640px;
  display:flex; flex-direction:column; max-height:96vh;
  overflow:hidden;                   /* MOD: evita que el header se vea “recortado” */
}
/* Borde con gradiente al hover del MODAL */
.modal-card::after{
  content:""; position:absolute; inset:-2px; border-radius:18px; padding:2px;
  background:conic-gradient(from 180deg at 50% 50%,
    var(--color-primary), var(--color-accent), #fbbf24, #ef4444, var(--color-primary));
  -webkit-mask:linear-gradient(#000 0 0) content-box, linear-gradient(#000 0 0);
  -webkit-mask-composite:xor; mask-composite:exclude;
  opacity:0; transition:opacity .25s ease; pointer-events:none; filter:blur(.6px);
}
.modal-card:hover::after{ opacity:1; }

.modal-header,.modal-footer{
  padding:1.75rem 1.5rem;            /* MOD: más alto, como Hoteles */
  background:var(--color-bg-hover);
  border-color:var(--color-border);
  display:flex; align-items:center; justify-content:space-between; flex-shrink:0;
}
.modal-header{ border-bottom:1px solid var(--color-border); }
.modal-footer{ border-top:1px solid var(--color-border); }

/* Footer: Cancelar a la izq — Guardar a la der, con colores */
.modal-footer .btn{
  width:auto!important; height:auto!important;
  padding:10px 14px; border-radius:10px; font-weight:700;
}
.modal-footer .btn:first-child{ margin-right:auto; }  /* Cancelar */
.modal-footer .btn:last-child{  margin-left:auto;  }  /* Guardar  */
.modal-footer .btn-secondary-soft{ background:#8d9aad!important; color:#fff!important; border:0; }
.modal-footer .btn-primary{ background:var(--color-accent)!important; color:#fff!important; border:0; }

/* Cuerpo del modal con ESPACIO holgado y scroll interno */
.modal-body{
  flex:1 1 auto; min-height:0; overflow-y:auto!important;
  padding:1.5rem 1.5rem;             /* MOD: aire uniforme en laterales y vertical */
  background:var(--color-bg-card);
  display:grid; gap:16px;            /* MOD: separación visual equilibrada */
}

/* ===== Formulario dentro del modal ===== */
.form-grid{
  display:grid; grid-template-columns:1fr 1fr;
  gap:16px 16px;                     /* MOD: igualamos al patrón de Hoteles */
}
@media (max-width:640px){ .form-grid{ grid-template-columns:1fr; } }

.field{ display:flex; flex-direction:column; gap:8px; min-width:0; }
.form-label{
  font-size:13px; font-weight:800; color:var(--color-text-secondary);
  letter-spacing:.2px; margin-bottom:4px;   /* MOD: un poquito más de separación */
}

/* Inputs con padding y fondo que contraste (como Hoteles) */
.form-input,.form-textarea,.form-select{
  width:100%;
  background:var(--color-bg-card);
  color:var(--color-text-primary);
  border:1px solid var(--color-border);
  border-radius:12px;
  font-size:14px;
  padding:10px 12px;                 /* MOD: un poco más compactos */
  transition:box-shadow .18s ease, border-color .18s ease, transform .08s ease;
}
.form-input{ height:40px; }          /* MOD: altura menor (antes 44px) */
.form-textarea{ min-height:96px; resize:vertical; }  /* MOD: textarea algo más baja */
.form-input:focus,.form-textarea:focus,.form-select:focus{
  outline:none; border-color:var(--color-primary);
  box-shadow:0 0 0 3px var(--ring-transparent);
}
.span-2{ grid-column:1 / -1; }

/* Imagen previa */
.img-preview{ margin-top:6px; text-align:center; }
.img-frame{
  position:relative; display:inline-block; max-width:100%;
  border-radius:12px; overflow:hidden; border:1px solid rgba(0,0,0,.06);
  box-shadow:0 10px 24px rgba(0,0,0,.20);
}
.img-frame img{ display:block; max-width:100%; height:auto; object-fit:cover; }
.img-frame::after{
  content:""; position:absolute; inset:-20%;
  background:linear-gradient(90deg, rgba(255,255,255,0) 0%, rgba(255,255,255,.28) 50%, rgba(255,255,255,0) 100%);
  transform:translateX(-120%) skewX(12deg); animation:imgShine 10s linear infinite;
  mix-blend-mode:screen; pointer-events:none;
}

/* Desactiva scroll del body cuando el modal esté abierto (si agregas body.no-scroll desde TS) */
:host ::ng-deep body.no-scroll{ overflow:hidden; }

/* A11y focus */
button:focus-visible, a:focus-visible, select:focus-visible, input:focus-visible, textarea:focus-visible{
  outline:3px solid var(--ring-transparent); outline-offset:2px; border-radius:8px;
}


/* ====== CLON DEL FILTRO DE HOTELES ====== */

/* Base de tarjeta genérica (como Hoteles) */
.card {
  background: var(--color-bg-card);
  border-radius: var(--radius);
  box-shadow: var(--shadow);
  padding: 1rem;
  transition: var(--transition);
  overflow: visible;
  border: 1px solid var(--color-border);
  position: relative; /* necesario para el ::after */
}

/* Borde tricolor al hover (igual que Hoteles) */
.card::after {
  content: "";
  position: absolute;
  inset: -2px;
  border-radius: calc(var(--radius) + 4px);
  padding: 2px;
  background: conic-gradient(
    from 180deg at 50% 50%,
    var(--color-primary),
    var(--color-accent),
    #fbbf24,
    #ef4444,
    var(--color-primary)
  );
  -webkit-mask: linear-gradient(#000 0 0) content-box, linear-gradient(#000 0 0);
  -webkit-mask-composite: xor;
  mask-composite: exclude;
  opacity: 0;
  transition: opacity .25s ease;
  pointer-events: none;
  filter: blur(.6px);
}
.card:hover { transform: translateY(-3px); box-shadow: var(--shadow-lg); }
.card:hover::after { opacity: 1; }

/* Título de tarjeta (idéntico a Hoteles) */
.card-title {
  margin: 0 0 .75rem;
  font-size: 1rem;
  font-weight: 800;
  color: var(--color-text-primary);
}

/* Contenedor visual del filtro */
.filtros-card {
  margin-bottom: 1.75rem;
  background: var(--color-bg-card);
  border: 1px solid var(--color-border);
  border-radius: 14px; /* coincide con Hoteles */
}

/* Grid de controles (clon de Hoteles) */
.filtros-grid {
  display: grid;
  grid-template-columns: 1fr 260px auto auto;
  align-items: end;
  gap: 1rem;
  padding: 1rem;
}

@media (max-width: 900px) {
  .filtros-grid {
    grid-template-columns: 1fr 1fr;
  }
  .acciones {
    display: flex;
    gap: .75rem;
  }
  .resultados {
    justify-self: end;
  }
}

@media (max-width: 640px) {
  .filtros-grid {
    grid-template-columns: 1fr;
  }
  .resultados {
    justify-self: start;
  }
}

/* Etiquetas */
.filtro .form-label {
  display: block;
  margin-bottom: 0.45rem;
  font-weight: 800;
  color: var(--color-text-secondary);
  letter-spacing: .2px;
}

/* Buscador con icono a la izquierda */
.search-wrapper {
  position: relative;
  display: grid;
  grid-template-columns: 1fr auto; /* input + botón limpiar */
  align-items: center;
  gap: .55rem;
}
.search-icon {
  position: absolute;
  left: 10px;
  top: 50%;
  transform: translateY(-50%);
  pointer-events: none;
  color: var(--color-primary);
  transition: var(--transition);
}
/* Ajuste de padding para que no pise el icono */
.search-wrapper .form-input {
  padding-left: 38px;
  height: 42px;
}
.search-wrapper .form-input:focus {
  border-color: var(--color-primary);
  box-shadow: 0 0 0 2px var(--ring-transparent);
}
.search-wrapper:focus-within .search-icon {
  transform: translateY(-50%) scale(1.08);
}

/* Select con chevron */
.select-wrapper { position: relative; }
.form-select {
  width: 100%;
  border: 1px solid var(--color-border);
  border-radius: var(--radius);
  padding: 0.6rem 2.2rem 0.6rem 0.8rem;
  font-size: 0.95rem;
  outline: none;
  background: var(--color-bg-card);
  color: var(--color-text-primary);
  appearance: none;
  transition: var(--transition);
  height: 42px;
}
.form-select:focus {
  border-color: var(--color-primary);
  box-shadow: 0 0 0 2px var(--ring-transparent);
}
.select-wrapper .chevron-icon {
  position: absolute;
  right: 10px;
  top: 50%;
  transform: translateY(-50%);
  pointer-events: none;
  color: var(--color-text-secondary);
  opacity: .95;
  transition: var(--transition);
}
.select-wrapper:focus-within .chevron-icon {
  transform: translateY(-50%) rotate(180deg);
  color: var(--color-primary);
}

/* Pastilla de resultados (idéntico) */
.resultados {
  align-self: center;
  justify-self: end;
  display: inline-flex;
  align-items: center;
  gap: .5rem;
  padding: .45rem .8rem;
  background:
    linear-gradient(90deg,
      rgba(213, 43, 30, 0.10) 0 33%,     /* rojo translúcido */
      rgba(255, 215, 0, 0.10) 33% 66%,   /* amarillo translúcido */
      rgba(0, 122, 61, 0.10) 66% 100%    /* verde translúcido */
    ),
    var(--color-bg-card);
  border: 1px solid var(--color-border);
  color: var(--color-text-secondary);
  border-radius: 999px;
  font-weight: 800;
  font-size: .9rem;
  box-shadow: 0 1px 2px var(--color-shadow);
}
