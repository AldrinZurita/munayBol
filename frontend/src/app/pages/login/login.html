<div class="login-main">
  <div class="login-side">
    <div class="login-logo-zone">
      <span class="side-title">MunayBol</span>
      <h2 class="side-headline">
        <span class="accent">¡Tu viaje comienza aquí!</span>
      </h2>
      <p class="side-desc">Reserva y gestiona tus aventuras por Bolivia con MunayBol</p>
    </div>
  </div>

  <div class="login-focused-zone">
    <div class="login-card">
      <a routerLink="/" class="back-link">&larr; Inicio</a>
      <h2 class="login-title">Inicia sesión en MunayBol</h2>
      <p class="login-subdesc">Accede con Google, GitHub o tu correo</p>

      <div class="login-oauth-row">
        <button class="oauth-btn google" [disabled]="loading || !googleReady" id="googleButton">
          <img src="assets/google.svg" alt="Google Icon">
        </button>
        <button
          class="oauth-btn github"
          type="button"
          (click)="loginWithGitHub()"
          [disabled]="loading || githubLoading">
          <span class="icon">
            <svg viewBox="0 0 24 24" width="26" height="26" fill="currentColor" aria-hidden="true">
              <path d="M12 2C6.475 2 2 6.477 2 12.006c0 4.425 2.824 8.18 6.755 9.515.494.09.675-.215.675-.477 0-.235-.008-.857-.013-1.682-2.748.597-3.33-1.326-3.33-1.326-.45-1.145-1.1-1.451-1.1-1.451-.9-.615.068-.603.068-.603 1 .07 1.527 1.026 1.527 1.026.885 1.521 2.324 1.083 2.891.828.09-.641.346-1.084.63-1.334-2.194-.25-4.506-1.098-4.506-4.894 0-1.081.387-1.965 1.022-2.658-.103-.253-.445-1.27.098-2.647 0 0 .836-.267 2.74 1.02a9.535 9.535 0 0 1 2.494-.336c.847.004 1.705.114 2.505.336 1.902-1.287 2.736-1.02 2.736-1.02.546 1.377.203 2.394.1 2.647.638.693 1.02 1.577 1.02 2.658 0 3.806-2.317 4.64-4.528 4.884.355.308.669.917.669 1.849 0 1.335-.011 2.414-.011 2.744 0 .265.178.573.681.476C19.179 20.183 22 16.43 22 12.006 22 6.477 17.523 2 12 2z"/>
            </svg>
          </span>
          <span class="git-label">GitHub</span>
        </button>
      </div>

      <div class="login-divider"><span>o usa tu correo</span></div>

      <form (ngSubmit)="login()" [class.loading]="loading" autocomplete="off" novalidate>
        <div class="login-form-row">
          <label for="correo">Correo</label>
          <input id="correo" name="correo" [(ngModel)]="correo" #emailInput required placeholder="tu@email.com" [disabled]="loading" />
        </div>
        <div class="login-form-row">
          <label for="contrasenia">Contraseña</label>
          <div class="input-group">
            <input id="contrasenia" name="contrasenia" type="{{ passwordType }}" [(ngModel)]="contrasenia" #passwordInput required placeholder="••••••••" [disabled]="loading" />
            <button type="button" class="showpass" (click)="togglePassword()" tabindex="-1">
              <svg *ngIf="!passwordVisible" width="22" height="22" viewBox="0 0 24 24"><path fill="currentColor" d="M12 5c-7 0-10 7-10 7s3 7 10 7 10-7 10-7-3-7-10-7Zm0 12a5 5 0 1 1 .001-10.001A5 5 0 0 1 12 17Z"/></svg>
              <svg *ngIf="passwordVisible" width="22" height="22" viewBox="0 0 24 24"><path fill="currentColor" d="M3 3l18 18-1.41 1.41-2.26-2.26C15.83 21.08 13.98 21.9 12 22c-7 0-10-7-10-7a18.7 18.7 0 0 1 6.08-6.74L1.59 4.41 3 3Zm8.96 3c6.45.11 9.99 6.99 9.99 6.99s-.8 1.84-2.39 3.58L14.4 11.8a3.5 3.5 0 0 0-4.6-4.6L9.88 6.1c.68-.07 1.34-.1 2.08-.1Z"/></svg>
            </button>
          </div>
        </div>
        <div class="login-form-error" *ngIf="error">{{ error }}</div>

        <button type="submit" class="login-submit" [disabled]="loading">
          <span>Ingresar</span>
        </button>
      </form>

      <div class="login-footer">
        <span>¿No tienes cuenta? <a routerLink="/registrarse" class="footer-link strong">Registrarse</a></span>
      </div>
    </div>
  </div>
</div>
