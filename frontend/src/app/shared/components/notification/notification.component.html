<div class="notification-bell" (click)="toggleNotifications()">
  <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
    <path d="M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9"></path>
    <path d="M13.73 21a2 2 0 0 1-3.46 0"></path>
  </svg>
  <span class="badge" *ngIf="(unreadCount$ | async) as count">
  </span>
</div>

<div class="notification-panel" *ngIf="showNotifications">
  <div class="panel-header">
    <h3>Notificaciones</h3>
    <button (click)="markAllAsRead()">Marcar todas como le√≠das</button>
  </div>
  <div class="notification-list">
    <div *ngFor="let notification of (notifications$ | async)" 
         [ngClass]="{'notification-item': true, 'unread': !notification.read}"
         (click)="markAsRead(notification.id)">
      <a [routerLink]="notification.link || null" class="notification-link">
        <strong>{{ notification.title }}</strong>
        <p>{{ notification.message }}</p>
        <small>{{ notification.createdAt | date:'short' }}</small>
      </a>
    </div>
    <div *ngIf="(notifications$ | async)?.length === 0" class="no-notifications">
      No tienes notificaciones.
    </div>
  </div>
</div>
