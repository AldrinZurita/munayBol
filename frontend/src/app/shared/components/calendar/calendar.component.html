<div class="calendar-container">
  <div class="calendar-header">
    <button class="nav-btn" (click)="previousMonth()" type="button" aria-label="Mes anterior">
      <span class="material-symbols-outlined">chevron_left</span>
    </button>
    
    <div class="month-year">
      <h3>{{ currentMonthName }} {{ currentYear }}</h3>
    </div>
    
    <button class="nav-btn" (click)="nextMonth()" type="button" aria-label="Mes siguiente">
      <span class="material-symbols-outlined">chevron_right</span>
    </button>
  </div>

  <div class="calendar-legend">
    <div class="legend-item">
      <span class="indicator available"></span>
      <span>Disponible</span>
    </div>
    <div class="legend-item">
      <span class="indicator occupied"></span>
      <span>Ocupado</span>
    </div>
    <div class="legend-item">
      <span class="indicator selected"></span>
      <span>Seleccionado</span>
    </div>
  </div>

  <div class="calendar-grid">
    <div class="weekday-header" *ngFor="let day of weekDays">
      {{ day }}
    </div>
    
    <button
      *ngFor="let day of calendarDays"
      class="calendar-day"
      [class.other-month]="!day.isCurrentMonth"
      [class.today]="day.isToday"
      [class.available]="day.isAvailable"
      [class.occupied]="day.isOccupied"
      [class.selected]="day.isSelected"
      [class.in-range]="day.isInRange"
      [class.disabled]="!day.isCurrentMonth || day.isOccupied || day.date < minDate"
      (click)="selectDate(day)"
      type="button"
      [attr.aria-label]="day.date | date:'longDate'"
      [disabled]="!day.isCurrentMonth || day.isOccupied || day.date < minDate"
    >
      <span class="day-number">{{ day.day }}</span>
      <span class="day-indicator" *ngIf="day.isAvailable || day.isOccupied"></span>
    </button>
  </div>

  <div class="calendar-footer" *ngIf="selectedStartDate || selectedEndDate">
    <div class="selected-dates">
      <div *ngIf="selectedStartDate && !selectedEndDate">
        <strong>Fecha seleccionada:</strong> {{ selectedStartDate | date:'longDate' }}
      </div>
      <div *ngIf="selectedStartDate && selectedEndDate">
        <strong>Check-in:</strong> {{ selectedStartDate | date:'shortDate' }}<br>
        <strong>Check-out:</strong> {{ selectedEndDate | date:'shortDate' }}
      </div>
    </div>
    <button class="clear-btn" (click)="clearSelection()" type="button">
      <span class="material-symbols-outlined">close</span>
      Limpiar selecci√≥n
    </button>
  </div>
</div>
